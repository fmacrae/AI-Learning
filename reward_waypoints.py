


import numpy as np
import math

def reward_function(params):
    #work out the current bit of track
    HARD_TURN_MAG = 10 #angle to trigger hard turn flag on waypoint
    SOFT_TURN_MAG = 5 #and same for soft
    
    HARD_STEERING_MAG = 20 #angle to trigger hard steering
    SOFT_STEERING_MAG = 10 #and same for soft
    
    
    #using 0, 1, 2, 3, 4
    #      HL,SL,S,SR,HR
    HARD_RIGHT = 4
    SOFT_RIGHT = 3
    STRAIGHT = 2
    SOFT_LEFT = 1
    HARD_LEFT = 0
    
    waypoints = params['waypoints']
    closest_waypoints = params['closest_waypoints']
    
    next_point = waypoints[closest_waypoints[1]]
    next_point_index = closest_waypoints[1]
    #print(next_point)
    prev_point = waypoints[closest_waypoints[0]]
    prev_point_index = closest_waypoints[0]
    #print(prev_point)
    number_of_waypoints = len(waypoints)
    
    #make a list of the next x waypoints to allow us to loop
    waypoints_to_review = 15
    #create a list that loops round to the beginning of the next lap
    full_list_of_waypoints = []
    for i in range(0,number_of_waypoints-1):
        full_list_of_waypoints.append(i)
    for i in range(0, waypoints_to_review + 2):
        full_list_of_waypoints.append(i)
        
    #calculated difference between the angles of each waypoint    
    AngleChanges = []
    TrackCondition = []

    for x in range(waypoints_to_review):
        
        ipoint1 = x + prev_point_index
        ipoint2 = ipoint1 + 1 
        ipoint3 = ipoint2 + 1
        point1 = waypoints[full_list_of_waypoints[ipoint1]]
        point2 = waypoints[full_list_of_waypoints[ipoint2]]
        point3 = waypoints[full_list_of_waypoints[ipoint3]]
        
        #check for duplicates
        if (point1[0] == point2[0]) and (point1[1] == point2[1]):
            #swap point2 for point 3 and grab point4 for point3
            point2 = point3
            point3 = waypoints[full_list_of_waypoints[ipoint3 +1]]
        if (point2[0] == point3[0]) and (point2[1] == point3[1]):
            #grab point 4 for point 3
            point3 = waypoints[full_list_of_waypoints[ipoint3 +1]]

        section1_direction = math.atan2(point2[1] - point1[1], point2[0] - point1[0])
        track_direction1 = math.degrees(section1_direction)
        section2_direction = math.atan2(point3[1] - point2[1], point3[0] - point2[0])
        track_direction2 = math.degrees(section2_direction)
        #print(track_direction1)
        #print(track_direction2)
        #compute difference between angles - got to be better way than this
        if track_direction1 < 0:
            if track_direction2 < 0:
                diff= track_direction2 - track_direction1
            if track_direction2 >= 0:
                a = abs(track_direction1) + abs(track_direction2)
                b = -((180-abs(track_direction1))+(180-track_direction2))
                if abs(a)> abs(b):
                    diff = b
                else:
                    diff = a
        elif track_direction1 >= 0:
            if track_direction2 < 0:
                a = (180-track_direction1)+(180-abs(track_direction2))
                b = (-(track_direction1)) + track_direction2
                if abs(a)> abs(b):
                    diff = b
                else:
                    diff = a
            if track_direction2 >= 0:
                diff= abs(track_direction2) - abs(track_direction1)
        
        #print("diff  %f " %diff)
        #print("waypoint  %d " %ipoint1)
         
        
        AngleChanges.append(diff)
        #define the category of turn
        # negative angles are anticlockwise so for the car are left turns
        # positive are clockwise so right turns

        #using 0, 1, 2, 3, 4
        #      HL,SL,S,SR,HR
        if abs(diff) > SOFT_TURN_MAG:
            if diff < 0:
                track_type = SOFT_RIGHT
            else:
                track_type = SOFT_LEFT
        if abs(diff) > HARD_TURN_MAG:
            if diff < 0:
                track_type = HARD_RIGHT
            else:
                track_type = HARD_LEFT
        if abs(diff)< SOFT_TURN_MAG:
            track_type = STRAIGHT
            
            
        TrackCondition.append(track_type)
        #print(track_type)        
        
    #set basic reward
    SpeedIncentive = 0.5 #Generally want to go fairly fast
    SteerIncentive = 0.25 #generally want steering to be low
    RightIncentive = 0
    LeftIncentive = 0
        
    #straight checker
    #count number of straights ahead
    iStraights = 0
    while TrackCondition[iStraights] == STRAIGHT and (iStraights<waypoints_to_review -1):
        iStraights+=1
    LONGSTRAIGHT = 8
    if iStraights>LONGSTRAIGHT:
        #GO FAST
        SpeedIncentive = 1
        SteerIncentive = 0 #keep straight when fast
    #we're on straight but approaching corner 
    if (iStraights>0) and (iStraights<=LONGSTRAIGHT):
        #start slowing and allow steering
        SpeedIncentive = 0.1
        SteerIncentive = 0.5
        #change lane position
        if TrackCondition[iStraights+1] >= SOFT_RIGHT:
            #move to left of centre
            RightIncentive = 0
            LeftIncentive = 1
        if TrackCondition[iStraights+1] <= SOFT_LEFT:
            #move to right of centre
            RightIncentive = 1
            LeftIncentive = 0
                
    #in a turn            
    if TrackCondition[0] != STRAIGHT:
        #steering is good and want to be a bit slower
        SpeedIncentive = 0
        SteerIncentive = 1
        #about to exit so start powering up
        if TrackCondition[1] == STRAIGHT:
            #SpeedIncentive = 2
            #SteerIncentive = 0.5 #also reduce steering as can adjust on the straight
            if TrackCondition[1] >= SOFT_RIGHT:
                #move to right of centre
                RightIncentive = 1
                LeftIncentive = 0
            if TrackCondition[1] <= SOFT_LEFT:
                #move to left of centre
                RightIncentive = 0
                LeftIncentive = 1
                
        
    
    #start with 1 for being on the track - good job
    reward = 1
    #check steering magnitude and direction
    #print(params['steering_angle']) -ve is right, +ve is left
    
    #
    if abs(params['steering_angle'])>(HARD_TURN_MAG):
        if (TrackCondition[0] >= HARD_RIGHT) and (params['steering_angle']<0):
            reward+=SteerIncentive
        if (TrackCondition[0] <= HARD_LEFT) and (params['steering_angle']>0):
            reward+=SteerIncentive
    
    
    if (abs(params['steering_angle'])>(SOFT_TURN_MAG)) and (abs(params['steering_angle'])<(HARD_TURN_MAG)):
        if (TrackCondition[0] >= SOFT_RIGHT) and (params['steering_angle']<0):
            reward+=SteerIncentive
        if (TrackCondition[0] <= SOFT_LEFT) and (params['steering_angle']>0):
            reward+=SteerIncentive
    
        
    #If no steeringpreferred go for it big if straight
    if abs(params['steering_angle'])<SOFT_TURN_MAG:
        if SteerIncentive == 0:
            reward+=1
        
    
    #check position
    if RightIncentive > 0:
        if params['is_left_of_center'] != True:
            reward+=RightIncentive
    if LeftIncentive > 0:
        if params['is_left_of_center']:
            reward+=LeftIncentive
    #check speed
    reward += (params['speed']/10)*SpeedIncentive
    
    
    
    
    
    #now adjust down or up based on being in the best state possible for track condition
    #i.e reward being on left of track if entering a right corner
    #reward being on right of track if entering a left corner 
    #reward going slow through and into corners
    #reward steering in corners
    #reward going fast on exit of turn if steering is low and on inside
    #reward going fast and central on straights with low steering
    
    
    
    
    
    return reward
    


def get_test_params():
    return {
        'x': 0.7,
        'y': 1.05,
        'is_left_of_center': True,
        'speed': 0.8,
        'heading': 160.0,
        'track_width': 0.45,
        'is_reversed': False,
        'steering_angle': 0.0,
        'closest_waypoints': [228, 229],
        'waypoints': [[-0.5438075065612793,
  -4.263250946998596,
  -0.543795108795166,
  -3.729851007461548,
  -0.5438199043273926,
  -4.7966508865356445],
 [-0.2424324005842209,
  -4.263250946998596,
  -0.2424377053976059,
  -3.729851007461548,
  -0.24242709577083588,
  -4.7966508865356445],
 [0.058941951021552086,
  -4.263245105743408,
  0.058932721614837646,
  -3.7298450469970703,
  0.058951180428266525,
  -4.796645164489746],
 [0.36031660437583923,
  -4.2632399797439575,
  0.3603109121322632,
  -3.729840040206909,
  0.3603222966194153,
  -4.796639919281006],
 [0.6616914868354797,
  -4.263237953186035,
  0.661689281463623,
  -3.7298378944396973,
  0.6616936922073364,
  -4.796638011932373],
 [0.963066667318337,
  -4.263237953186035,
  0.9630677103996277,
  -3.7298378944396973,
  0.9630656242370605,
  -4.796638011932373],
 [1.2644420266151428,
  -4.263239026069641,
  1.2644460201263428,
  -3.7298390865325928,
  1.2644380331039429,
  -4.7966389656066895],
 [1.5658175349235535,
  -4.26324188709259,
  1.565824031829834,
  -3.729841947555542,
  1.565811038017273,
  -4.796641826629639],
 [1.8671924471855164,
  -4.263247013092041,
  1.8671989440917969,
  -3.729846954345703,
  1.8671859502792358,
  -4.796647071838379],
 [2.168567419052124,
  -4.263249039649963,
  2.1685619354248047,
  -3.729849100112915,
  2.1685729026794505,
  -4.796648979187012],
 [2.469942569732666,
  -4.263240933418274,
  2.469917058944702,
  -3.7298409938812256,
  2.46996808052063,
  -4.796640872955322],
 [2.7713170051574707,
  -4.263220906257629,
  2.7712790966033936,
  -3.729820966720581,
  2.771354913711548,
  -4.796620845794678],
 [3.072692036628723,
  -4.263198018074036,
  3.0727059841156006,
  -3.7297980785369873,
  3.0726780891418457,
  -4.796597957611084],
 [3.374067544937134,
  -4.263236045837402,
  3.3742001056671143,
  -3.7298359870910645,
  3.3739349842071604,
  -4.79663610458374],
 [3.675445079803467,
  -4.26334810256958,
  3.6755781173706055,
  -3.729948043823242,
  3.675312042236328,
  -4.796748161315918],
 [3.976821541786194,
  -4.263386845588684,
  3.9764840602874756,
  -3.7299869060516357,
  3.977159023284912,
  -4.796786785125732],
 [4.27818751335144,
  -4.262967109680176,
  4.277894020080566,
  -3.729567050933838,
  4.2784810066223145,
  -4.796367168426514],
 [4.579564571380615,
  -4.263054966926575,
  4.576335906982422,
  -3.7296650409698486,
  4.582793235778809,
  -4.796444892883301],
 [4.880862474441528,
  -4.2593196630477905,
  4.874448776245117,
  -3.7259581089019775,
  4.8872761726379395,
  -4.7926812171936035],
 [5.182199954986572,
  -4.255808472633362,
  5.1830267906188965,
  -3.7224090099334717,
  5.181373119354248,
  -4.789207935333252],
 [5.4835405349731445,
  -4.2602540254592896,
  5.494141101837158,
  -3.726958990097046,
  5.472939968109131,
  -4.793549060821533],
 [5.784820556640625,
  -4.267787456512451,
  5.798306941986084,
  -3.73455810546875,
  5.771334171295166,
  -4.801016807556152],
 [6.086097478866577,
  -4.27549409866333,
  6.098002910614014,
  -3.742227077484131,
  6.074192047119141,
  -4.808761119842529],
 [6.387416839599609,
  -4.2812405824661255,
  6.394252777099609,
  -3.7478840351104736,
  6.380580902099609,
  -4.814597129821777],
 [6.688783645629883,
  -4.283218502998352,
  6.687437057495117,
  -3.7498199939727783,
  6.690130233764648,
  -4.816617012023926],
 [6.990134000778198,
  -4.279719114303589,
  6.977538108825684,
  -3.7464680671691895,
  7.002729892730713,
  -4.812970161437988],
 [7.291311502456665,
  -4.268986463546753,
  7.26416015625,
  -3.7362780570983887,
  7.31846284866333,
  -4.801694869995117],
 [7.592015504837036,
  -4.24904203414917,
  7.54648494720459,
  -3.7175889015197754,
  7.637546062469482,
  -4.7804951667785645],
 [7.891724348068237,
  -4.217547416687012,
  7.823185920715332,
  -3.6885690689086914,
  7.960262775421143,
  -4.746525764465332],
 [8.18955373764038,
  -4.171620488166809,
  8.092222213745117,
  -3.6471760272979736,
  8.286885261535645,
  -4.6960649490356445],
 [8.484011173248291,
  -4.1076260805130005,
  8.35051155090332,
  -3.5912020206451416,
  8.617510795593262,
  -4.624050140380859],
 [8.772565364837646,
  -4.020909070968628,
  8.593633651733398,
  -3.518415927886963,
  8.951497077941895,
  -4.523402214050293],
 [9.050934791564941,
  -3.9057544469833374,
  8.815658569335938,
  -3.42704701423645,
  9.286211013793945,
  -4.384461879730225],
 [9.31207799911499,
  -3.755754590034485,
  9.009651184082031,
  -3.316375970840454,
  9.61450481414795,
  -4.195133209228516],
 [9.545350074768066,
  -3.565456509590149,
  9.169731140136719,
  -3.186739921569824,
  9.920969009399407,
  -3.944173097610479],
 [9.737494945526123,
  -3.333828926086426,
  9.293769836425781,
  -3.03781795501709,
  10.181220054626465,
  -3.6298398971557617],
 [9.877556800842285,
  -3.067478060722351,
  9.383283615112305,
  -2.866950035095215,
  10.371829986572266,
  -3.2680060863494873],
 [9.962692260742188,
  -2.7787269353866577,
  9.440204620361328,
  -2.6713829040527344,
  10.485179901123047,
  -2.886070966720581],
 [9.998307704925537,
  -2.4796690940856934,
  9.465605735778809,
  -2.4523820877075195,
  10.531009674072266,
  -2.506956100463867],
 [9.993433952331543,
  -2.178444504737854,
  9.461297988891602,
  -2.2151401042938232,
  10.525569915771484,
  -2.1417489051818848],
 [9.956905841827393,
  -1.8793534636497498,
  9.430691719055176,
  -1.966599941253662,
  10.48311996459961,
  -1.7921069860458374],
 [9.894974708557129,
  -1.5845664739608765,
  9.376959800720215,
  -1.7117559909820557,
  10.412989616394043,
  -1.4573769569396973],
 [9.813337802886963,
  -1.294617474079132,
  9.322196006774902,
  -1.5026969909667969,
  10.304479598999023,
  -1.0865379571914673],
 [9.661679744720459,
  -1.0340088605880737,
  9.212259292602539,
  -1.3213000297546387,
  10.111100196838379,
  -0.7467176914215088],
 [9.488976955413818,
  -0.7871880680322647,
  9.06976318359375,
  -1.1169990301132202,
  9.908190727233887,
  -0.4573771059513092],
 [9.28974962234497,
  -0.5612570866942406,
  8.914796829223633,
  -0.9406331777572632,
  9.664702415466309,
  -0.18188099563121796],
 [9.061550617218018,
  -0.36473871022462845,
  8.74597454071045,
  -0.7947707176208496,
  9.377126693725586,
  0.06529329717159271],
 [8.805681228637695,
  -0.2060214877128601,
  8.56008529663086,
  -0.6795169711112976,
  9.051277160644531,
  0.2674739956855774],
 [8.528502464294434,
  -0.08825819194316864,
  8.350591659545898,
  -0.5911133885383606,
  8.706413269042969,
  0.4145970046520233],
 [8.238834857940683,
  -0.005477815866472724,
  8.11068058013916,
  -0.5232539176940918,
  8.366989135742188,
  0.5122982859611511],
 [7.9439074993133545,
  0.05643086135387421,
  7.836843967437744,
  -0.4661138951778412,
  8.050971031188965,
  0.5789756178855896],
 [7.648383855819702,
  0.1154988557100296,
  7.529576778411865,
  -0.4045015871524811,
  7.767190933227539,
  0.6354992985725403],
 [7.356605052947998,
  0.1906125396490097,
  7.194062232971191,
  -0.31741830706596375,
  7.519147872924805,
  0.6986433863639832],
 [7.075538396835327,
  0.29877113550901413,
  6.845348834991455,
  -0.1824028044939041,
  7.305727958679199,
  0.7799450755119324],
 [6.815032005310059,
  0.449687831569463,
  6.509885787963867,
  0.01219306979328394,
  7.12017822265625,
  0.8871825933456421],
 [6.583379507064819,
  0.6420481652021408,
  6.212751865386963,
  0.2584463059902191,
  6.954007148742676,
  1.0256500244140625],
 [6.383110046386719,
  0.8670095801353455,
  5.963858127593994,
  0.5372471809387207,
  6.802361965179443,
  1.1967719793319702],
 [6.211615562438965,
  1.114708036184311,
  5.759200096130371,
  0.8321561217308044,
  6.664031028747559,
  1.3972599506378174],
 [6.064267873764038,
  1.3775370121002197,
  5.589739799499512,
  1.1339410543441772,
  6.5387959480285645,
  1.6211329698562622],
 [5.9365739822387695,
  1.6504955291748047,
  5.447147846221924,
  1.4384160041809082,
  6.426000118255615,
  1.8625750541687012],
 [5.824730634689331,
  1.930329442024231,
  5.325015068054199,
  1.7437829971313477,
  6.324446201324463,
  2.1168758869171143],
 [5.725836992263794,
  2.215011954307556,
  5.2188029289245605,
  2.0493860244750977,
  6.232871055603027,
  2.3806378841400146],
 [5.637604475021362,
  2.503180980682373,
  5.1252360343933105,
  2.35487699508667,
  6.149972915649414,
  2.651484966278076],
 [5.55827260017395,
  2.7939260005950928,
  5.041920185089111,
  2.6601510047912598,
  6.074625015258789,
  2.927700996398926],
 [5.486449480056763,
  3.086618423461914,
  4.967021942138672,
  2.965329885482788,
  6.0058770179748535,
  3.20790696144104],
 [5.4212236404418945,
  3.3808475732803345,
  4.899526119232178,
  3.2697300910949707,
  5.942921161651611,
  3.4919650554656982],
 [5.360888957977295,
  3.676126003265381,
  4.837017059326172,
  3.575758934020996,
  5.884760856628418,
  3.7764930725097656],
 [5.307810306549072,
  3.9728164672851562,
  4.782561779022217,
  3.87992000579834,
  5.833058834075928,
  4.065712928771973],
 [5.255915641784668,
  4.269661903381348,
  4.736319065093994,
  4.149099826812744,
  5.775512218475342,
  4.390223979949951],
 [5.255915641784668,
  4.269661903381348,
  4.736319065093994,
  4.149099826812744,
  5.775512218475342,
  4.390223979949951],
 [5.171812057495117,
  4.558959007263184,
  4.668263912200928,
  4.383018970489502,
  5.675360202789307,
  4.734899044036865],
 [5.057467460632324,
  4.837637901306152,
  4.578042030334473,
  4.6038289070129395,
  5.536892890930176,
  5.071446895599365],
 [4.908321857452393,
  5.099258661270142,
  4.467484951019287,
  4.798961162567139,
  5.349158763885498,
  5.3995561599731445],
 [4.719554424285889,
  5.333714485168457,
  4.339746952056885,
  4.959198951721191,
  5.099361896514893,
  5.708230018615723],
 [4.487942934036255,
  5.525609016418457,
  4.2029337882995605,
  5.074737071990967,
  4.772952079772949,
  5.976480960845947],
 [4.2155985832214355,
  5.65233850479126,
  4.070199966430664,
  5.139138221740723,
  4.360997200012207,
  6.165538787841797],
 [3.9176909923553467,
  5.687243938446045,
  3.950010061264038,
  5.1548237800598145,
  3.8853719234466553,
  6.219664096832275],
 [3.626256585121155,
  5.6165759563446045,
  3.8357560634613037,
  5.126039981842041,
  3.416757106781006,
  6.107111930847168],
 [3.373347520828247,
  5.454691410064697,
  3.7183730602264404,
  5.047907829284668,
  3.0283219814300537,
  5.861474990844727],
 [3.172053098678589,
  5.23124885559082,
  3.602173089981079,
  4.915792942047119,
  2.7419331073760986,
  5.5467047691345215],
 [3.0192744731903076,
  4.971868991851807,
  3.4980790615081787,
  4.736790180206299,
  2.5404698848724365,
  5.2069478034973145],
 [2.9074225425720215,
  4.692229509353638,
  3.413439989089966,
  4.523521900177002,
  2.401405096054077,
  4.860937118530273],
 [2.8290610313415527,
  4.401329517364502,
  3.347476005554199,
  4.275784969329834,
  2.3106460571289062,
  4.526874065399169],
 [2.7656580209732056,
  4.1068384647369385,
  3.2855329513549805,
  3.9874839782714844,
  2.2457830905914307,
  4.226192951202393],
 [2.6942299604415894,
  3.8140534162521362,
  3.212822914123535,
  3.689246892929077,
  2.1756370067596436,
  3.9388599395751953],
 [2.624626040458679,
  3.5208264589309692,
  3.1438660621643066,
  3.398737907409668,
  2.1053860187530518,
  3.6429150104522705],
 [2.5562684535980225,
  3.2273060083389282,
  3.075778007507324,
  3.106369972229004,
  2.0367588996887207,
  3.3482420444488525],
 [2.487966477870941,
  2.933772921562195,
  3.007097005844116,
  2.8112199306488037,
  1.9688359498977661,
  3.056325912475586],
 [2.417782425880432,
  2.640684962272644,
  2.935628890991211,
  2.512814998626709,
  1.8999359607696533,
  2.768554925918579],
 [2.3434759974479675,
  2.3486180305480957,
  2.8591320514678955,
  2.212183952331543,
  1.8278199434280396,
  2.4850521087646484],
 [2.263619542121887,
  2.0580199360847473,
  2.776499032974243,
  1.9114919900894165,
  1.7507400512695312,
  2.204547882080078],
 [2.1779080033302307,
  1.769095003604889,
  2.687864065170288,
  1.6126970052719116,
  1.6679519414901733,
  1.9254930019378662],
 [2.086897075176239,
  1.481793999671936,
  2.5941390991210938,
  1.3168070316314697,
  1.5796550512313843,
  1.6467809677124023],
 [1.9914774298667908,
  1.195925533771515,
  2.4963788986206055,
  1.023908019065857,
  1.486575961112976,
  1.3679430484771729],
 [1.8925195336341858,
  0.9112615883350372,
  2.3955390453338623,
  0.7338162064552307,
  1.3895000219345093,
  1.0887069702148438],
 [1.7909629940986633,
  0.6275114417076111,
  2.289134979248047,
  0.43688130378723145,
  1.2927910089492798,
  0.8181415796279907],
 [1.6771830320358276,
  0.34851986169815063,
  2.162893056869507,
  0.12806320190429688,
  1.1914730072021484,
  0.5689765214920044],
 [1.5420934557914734,
  0.07920094579458237,
  2.003495931625366,
  -0.18842430412769318,
  1.0806909799575806,
  0.3468261957168579],
 [1.375698298215866,
  -0.17132550477981567,
  1.7814300060272217,
  -0.5175876021385193,
  0.9699665904045092,
  0.17493659257888672],
 [1.154587984085083,
  -0.3748939111828804,
  1.4580260515213022,
  -0.8135746121406547,
  0.8511499166488647,
  0.06378678977489471],
 [0.8861891627311707,
  -0.5099374107085168,
  1.0671360492706299,
  -1.0117080211639404,
  0.7052422761917096,
  -0.00816680025309362],
 [0.5929704010486603,
  -0.5773696657270193,
  0.6708264946937561,
  -1.1050570011138916,
  0.5151143074035645,
  -0.04968233034014702],
 [0.2924389988183975,
  -0.5975138358771801,
  0.3063620924949646,
  -1.1307320594787598,
  0.2785159051418319,
  -0.06429561227560035],
 [-0.008872425183653831,
  -0.5930791702121496,
  -0.02242559939622879,
  -1.1263070106506348,
  0.004680749028919352,
  -0.05985132977366441],
 [-0.3100501596927643,
  -0.5822000745683908,
  -0.3248465061187744,
  -1.115394949913025,
  -0.29525381326675415,
  -0.04900519922375679],
 [-0.6113669276237488,
  -0.5763594638556242,
  -0.6215503811836243,
  -1.1096620559692383,
  -0.6011834740638751,
  -0.04305687174201008],
 [-0.9126869142055511,
  -0.5706923473626375,
  -0.9312517046928406,
  -1.1037689447402954,
  -0.8941221237182617,
  -0.03761574998497963],
 [-1.2135509848594666,
  -0.5553900022059679,
  -1.2623939514160156,
  -1.0865490436553955,
  -1.1647080183029175,
  -0.0242309607565403],
 [-1.5122569799423218,
  -0.5155553366057575,
  -1.6041640043258667,
  -1.040977954864502,
  -1.4203499555587769,
  0.009867281652987003],
 [-1.8066700100898743,
  -0.4516452308744192,
  -1.9525699615478516,
  -0.9647035002708435,
  -1.660770058631897,
  0.06141303852200508],
 [-2.0904905200004578,
  -0.3511328548192978,
  -2.318871021270752,
  -0.8331679105758667,
  -1.8621100187301636,
  0.13090220093727112],
 [-2.3476184606552124,
  -0.19540660828351974,
  -2.6915199756622314,
  -0.6031407117843628,
  -2.0037169456481934,
  0.2123274952173233],
 [-2.543960928916931,
  0.031185656785964966,
  -3.0024099349975586,
  -0.2414678931236267,
  -2.0855119228363037,
  0.30383920669555664],
 [-2.6494204998016357,
  0.31214994937181473,
  -3.169080972671509,
  0.19186319410800934,
  -2.1297600269317627,
  0.4324367046356201],
 [-2.6782190799713135,
  0.6116668581962585,
  -3.2115020751953125,
  0.6004918217658997,
  -2.1449360847473145,
  0.6228418946266174],
 [-2.661974549293518,
  0.9124709963798523,
  -3.193103075027466,
  0.9616445899009705,
  -2.1308460235595703,
  0.8632974028587341],
 [-2.622704029083252,
  1.2112460136413574,
  -3.1503050327301025,
  1.2896850109100342,
  -2.0951030254364014,
  1.1328070163726807],
 [-2.5733546018600464,
  1.5085490345954895,
  -3.0992701053619385,
  1.5975910425186157,
  -2.0474390983581543,
  1.4195070266723633],
 [-2.522086977958679,
  1.8055314421653748,
  -3.048250913619995,
  1.8930939435958862,
  -1.9959230422973633,
  1.7179689407348633],
 [-2.4744099378585815,
  2.10310697555542,
  -3.0021328926086426,
  2.180722951889038,
  -1.9466869831085205,
  2.0254909992218018],
 [-2.4343894720077515,
  2.4018020629882812,
  -2.9641969203948975,
  2.463606119155884,
  -1.9045820236206057,
  2.3399980068206765],
 [-2.4045780301094055,
  2.7017359733581543,
  -2.9374330043792725,
  2.7258338928222656,
  -1.8717230558395386,
  2.677638053894043],
 [-2.4071930646896362,
  3.0029375553131104,
  -2.9403951168060303,
  2.9883980751037598,
  -1.8739910125732422,
  3.017477035522461],
 [-2.421003043651581,
  3.303991436958313,
  -2.953524112701416,
  3.2733869552612305,
  -1.8884819746017456,
  3.3345959186553955],
 [-2.441774010658264,
  3.6046409606933594,
  -2.9732229709625244,
  3.559062957763672,
  -1.910325050354004,
  3.650218963623047],
 [-2.4724985361099243,
  3.904436469078064,
  -3.0023770332336426,
  3.8432459831237793,
  -1.942620038986206,
  3.9656269550323486],
 [-2.5109124779701233,
  4.203347444534302,
  -3.0390379428863525,
  4.1285200119018555,
  -1.982787013053894,
  4.278174877166748],
 [-2.557044506072998,
  4.501156568527222,
  -3.0827651023864746,
  4.410970211029053,
  -2.0313239097595215,
  4.591342926025391],
 [-2.612808108329773,
  4.797319650650024,
  -3.135754108428955,
  4.692233085632324,
  -2.089862108230591,
  4.902406215667725],
 [-2.6757819652557373,
  5.092035531997681,
  -3.1957240104675293,
  4.972972869873047,
  -2.1558399200439453,
  5.2110981941223145],
 [-2.7473304271698,
  5.384776592254639,
  -3.263434886932373,
  5.2500481605529785,
  -2.2312259674072266,
  5.519505023956299],
 [-2.8280030488967896,
  5.675145626068115,
  -3.340167999267578,
  5.526140213012695,
  -2.315838098526001,
  5.824151039123535],
 [-2.9156925678253174,
  5.9634740352630615,
  -3.4118540287017822,
  5.767670154571533,
  -2.4195311069488525,
  6.15927791595459],
 [-3.0483371019363403,
  6.233566045761108,
  -3.515381097793579,
  5.975912094116211,
  -2.5812931060791016,
  6.491219997406006],
 [-3.206257462501526,
  6.490138053894043,
  -3.647028923034668,
  6.18974494934082,
  -2.765486001968384,
  6.790531158447266],
 [-3.387305974960327,
  6.7309410572052,
  -3.7958810329437256,
  6.3880391120910645,
  -2.9787309169769287,
  7.073843002319336],
 [-3.5930325984954834,
  6.950990915298462,
  -3.959376096725464,
  6.563294887542725,
  -3.226689100265503,
  7.338686943054199],
 [-3.824325919151306,
  7.14389705657959,
  -4.136325836181641,
  6.711264133453369,
  -3.5123260021209717,
  7.5765299797058105],
 [-4.080339550971985,
  7.302426338195801,
  -4.323881149291992,
  6.827870845794678,
  -3.8367979526519775,
  7.776981830596924],
 [-4.358352899551392,
  7.417964458465576,
  -4.520216941833496,
  6.909717082977295,
  -4.196488857269287,
  7.926211833953857],
 [-4.651947021484375,
  7.484472274780273,
  -4.7232489585876465,
  6.955859184265137,
  -4.5806450843811035,
  8.01308536529541],
 [-4.952653408050537,
  7.498128652572632,
  -4.929781913757324,
  6.965219020843506,
  -4.97552490234375,
  8.031038284301758],
 [-5.251113176345825,
  7.458754539489746,
  -5.137709140777588,
  6.937549114227295,
  -5.3645172119140625,
  7.979959964752197],
 [-5.538994550704956,
  7.370548963546753,
  -5.344394207000732,
  6.873913764953613,
  -5.73359489440918,
  7.867184162139893],
 [-5.810213565826416,
  7.239671945571899,
  -5.546081066131592,
  6.776260852813721,
  -6.07434606552124,
  7.703083038330078],
 [-6.061072587966919,
  7.0729734897613525,
  -5.739316940307617,
  6.647544860839844,
  -6.382828235626221,
  7.498402118682861],
 [-6.2898008823394775,
  6.876953363418579,
  -5.921239852905273,
  6.4913649559021,
  -6.65836191177368,
  7.2625417709350595],
 [-6.495967149734497,
  6.657280921936035,
  -6.089762210845947,
  6.311574935913086,
  -6.902172088623047,
  7.002986907958984],
 [-6.6798639297485325,
  6.418627977371219,
  -6.243508815765381,
  6.1118550300598145,
  -7.1162190437316895,
  6.725400924682617],
 [-6.8422024250030535,
  6.164793014526364,
  -6.381796836853027,
  5.895455837249756,
  -7.302608013153076,
  6.4341301918029785],
 [-6.983914613723755,
  5.898880958557129,
  -6.504403114318848,
  5.665247917175293,
  -7.463426113128664,
  6.132513999938961],
 [-7.105918884277344,
  5.623551368713379,
  -6.611025810241699,
  5.424562931060791,
  -7.600811958312988,
  5.822539806365967],
 [-7.208332538604736,
  5.340780973434448,
  -6.70081090927124,
  5.176653861999512,
  -7.7158541679382315,
  5.5049080848693865],
 [-7.291143894195557,
  5.050683975219727,
  -6.776125907897949,
  4.91185998916626,
  -7.806161880493165,
  5.18950796127319],
 [-7.365557909011841,
  4.7574474811553955,
  -6.849331855773926,
  4.623186111450195,
  -7.881783962249756,
  4.891708850860596],
 [-7.44334602355957,
  4.465471506118774,
  -6.928749084472656,
  4.325094223022461,
  -7.957942962646484,
  4.605848789215088],
 [-7.52450966835022,
  4.1747565269470215,
  -7.0116190910339355,
  4.028267860412598,
  -8.037400245666504,
  4.321245193481445],
 [-7.60904860496521,
  3.8853025436401367,
  -7.097936153411864,
  3.7327270507812536,
  -8.120161056518555,
  4.037878036499023],
 [-7.696946382522583,
  3.597102999687195,
  -7.187035083770752,
  3.4405601024627686,
  -8.206857681274414,
  3.753645896911621],
 [-7.785883665084839,
  3.3092925548553467,
  -7.276092052459717,
  3.152358055114746,
  -8.295675277709961,
  3.4662270545959473],
 [-7.874215602874756,
  3.0212559700012207,
  -7.3640899658203125,
  2.8654119968414307,
  -8.3843412399292,
  3.1770999431610107],
 [-7.96194291114807,
  2.7329950332641637,
  -7.4514851570129395,
  2.578242063522339,
  -8.472400665283203,
  2.8877480030059814],
 [-8.049065351486206,
  2.4445085525512695,
  -7.5382819175720215,
  2.290832996368408,
  -8.55984878540039,
  2.598184108734131],
 [-8.135598421096802,
  2.155803084373474,
  -7.6246399879455575,
  2.0027110576629603,
  -8.646556854248047,
  2.3088951110839844],
 [-8.22207498550415,
  1.867075502872467,
  -7.711156845092773,
  1.7138489484786987,
  -8.732993125915527,
  2.0203020572662354],
 [-8.308757066726685,
  1.5784239768981934,
  -7.797938823699951,
  1.4248650074005127,
  -8.81957530975342,
  1.7319829463958707],
 [-8.395602464675903,
  1.2898319959640503,
  -7.88483190536499,
  1.1361140012741089,
  -8.906373023986816,
  1.4435499906539917],
 [-8.482460498809814,
  1.001244992017746,
  -7.971693992614746,
  0.8475149273872375,
  -8.993227005004881,
  1.1549750566482586],
 [-8.569319248199463,
  0.7126579582691193,
  -8.058552742004395,
  0.5589272975921631,
  -9.080085754394531,
  0.8663886189460754],
 [-8.65617847442627,
  0.42407093942165375,
  -8.145413398742676,
  0.2703365981578827,
  -9.166943550109863,
  0.5778052806854248],
 [-8.743041515350342,
  0.1354851396754384,
  -8.232465744018555,
  -0.01887792907655239,
  -9.253617286682127,
  0.2898482084274339],
 [-8.830611228942871,
  -0.1528868685127236,
  -8.320108413696289,
  -0.3074912130832672,
  -9.341114044189453,
  0.001717476057820022],
 [-8.917747020721436,
  -0.4413904547691345,
  -8.407055854797363,
  -0.5953727960586548,
  -9.428438186645508,
  -0.28740811347961426],
 [-9.004613399505615,
  -0.729975163936615,
  -8.493819236755371,
  -0.8836122155189514,
  -9.51540756225586,
  -0.5763381123542786],
 [-9.09135913848877,
  -1.018596351146698,
  -8.580466270446777,
  -1.1719059944152832,
  -9.602252006530762,
  -0.8652867078781128],
 [-9.177855491638184,
  -1.3072919845581055,
  -8.667015075683594,
  -1.4607759714126587,
  -9.688695907592773,
  -1.1538079977035522],
 [-9.264797687530518,
  -1.5958539843559265,
  -8.754349708557129,
  -1.7506380081176758,
  -9.775245666503906,
  -1.4410699605941772],
 [-9.352763652801514,
  -1.8841055035591125,
  -8.842571258544922,
  -2.039731025695801,
  -9.862956047058105,
  -1.7284799814224243],
 [-9.440656185150146,
  -2.17237651348114,
  -8.92963981628418,
  -2.3252739906311035,
  -9.951672554016113,
  -2.0194790363311768],
 [-9.525533676147461,
  -2.4615434408187866,
  -9.014737129211426,
  -2.6151719093322754,
  -10.036330223083496,
  -2.307914972305298],
 [-9.614251613616943,
  -2.749564051628113,
  -9.104243278503418,
  -2.905785083770752,
  -10.124259948730469,
  -2.5933430194854736],
 [-9.702064514160156,
  -3.0378609895706177,
  -9.190568923950195,
  -3.189141035079956,
  -10.213560104370117,
  -2.8865809440612793],
 [-9.78519344329834,
  -3.327538013458252,
  -9.270426750183105,
  -3.467288017272949,
  -10.299960136413574,
  -3.1877880096435547],
 [-9.859961986541748,
  -3.6194756031036377,
  -9.340554237365723,
  -3.7408370971679688,
  -10.379369735717773,
  -3.4981141090393066],
 [-9.922293663024902,
  -3.9143035411834717,
  -9.396797180175781,
  -4.00578498840332,
  -10.447790145874023,
  -3.822822093963623],
 [-9.963254451751709,
  -4.21279764175415,
  -9.433098793029785,
  -4.271529197692871,
  -10.493410110473633,
  -4.15406608581543],
 [-9.988624572753906,
  -4.513084173202515,
  -9.456209182739258,
  -4.545461177825928,
  -10.521039962768555,
  -4.480707168579102],
 [-9.999826908111572,
  -4.8142006397247314,
  -9.46643352508545,
  -4.816789150238037,
  -10.533220291137695,
  -4.811612129211426],
 [-9.991546630859375,
  -5.115410566329956,
  -9.459273338317871,
  -5.0807881355285645,
  -10.523819923400879,
  -5.150032997131348],
 [-9.960739612579346,
  -5.415127992630005,
  -9.432788848876953,
  -5.339084148406982,
  -10.488690376281738,
  -5.491171836853027],
 [-9.905710220336914,
  -5.711353302001953,
  -9.386420249938965,
  -5.58948278427124,
  -10.425000190734863,
  -5.833223819732666],
 [-9.823229789733887,
  -6.001063823699951,
  -9.319479942321777,
  -5.825708866119385,
  -10.326979637145996,
  -6.176418781280518],
 [-9.707994937896729,
  -6.279352903366089,
  -9.22991943359375,
  -6.042791843414307,
  -10.186070442199707,
  -6.515913963317871],
 [-9.55672550201416,
  -6.539675712585449,
  -9.118417739868164,
  -6.235698223114014,
  -9.995033264160156,
  -6.843653202056885],
 [-9.365952491760254,
  -6.7725489139556885,
  -8.98721981048584,
  -6.396945953369141,
  -9.744685173034668,
  -7.148151874542236],
 [-9.134821891784668,
  -6.965120553970337,
  -8.819358825683594,
  -6.535006046295166,
  -9.450284957885742,
  -7.395235061645508],
 [-8.881346225738525,
  -7.127945423126221,
  -8.615713119506836,
  -6.665392875671387,
  -9.14697933197022,
  -7.590497970581051],
 [-8.612974643707275,
  -7.264806509017944,
  -8.395392417907715,
  -6.777801990509033,
  -8.830556869506836,
  -7.7518110275268555],
 [-8.331972599029548,
  -7.373393058776853,
  -8.166613578796387,
  -6.86627197265625,
  -8.497331619262695,
  -7.880514144897461],
 [-8.040998458862305,
  -7.451314449310303,
  -7.933859825134277,
  -6.9287848472595215,
  -8.148137092590332,
  -7.973844051361084],
 [-7.742873907089233,
  -7.494183540344238,
  -7.70264196395874,
  -6.962303161621094,
  -7.783105850219732,
  -8.026063919067383],
 [-7.441753149032593,
  -7.496646404266357,
  -7.479330062866211,
  -6.964571952819824,
  -7.404176235198975,
  -8.02872085571289],
 [-7.144059658050537,
  -7.451900005340576,
  -7.270440101623535,
  -6.933688163757324,
  -7.017679214477532,
  -7.9701118469238255],
 [-6.859269618988037,
  -7.354599475860596,
  -7.080026149749756,
  -6.869026184082031,
  -6.638513088226318,
  -7.84017276763916],
 [-6.5987584590911865,
  -7.203993797302246,
  -6.910304069519043,
  -6.771032810211182,
  -6.28721284866333,
  -7.6369547843933105],
 [-6.373180389404297,
  -7.004823684692383,
  -6.761932849884033,
  -6.639601230621338,
  -5.9844279289245605,
  -7.370046138763428],
 [-6.188401937484741,
  -6.767185926437378,
  -6.634566783905029,
  -6.474863052368164,
  -5.742237091064453,
  -7.059508800506592],
 [-6.0442726612091064,
  -6.5028064250946045,
  -6.5181450843811035,
  -6.257937908172607,
  -5.570400238037109,
  -6.747674942016602],
 [-5.911931037902832,
  -6.232149124145508,
  -6.388439178466797,
  -5.99245023727417,
  -5.435422897338867,
  -6.471848011016846],
 [-5.7734694480896,
  -5.9644670486450195,
  -6.244884967803955,
  -5.714900970458984,
  -5.302053928375244,
  -6.214033126831055],
 [-5.629935026168823,
  -5.69947361946106,
  -6.094353199005127,
  -5.4371161460876465,
  -5.1655168533325195,
  -5.961831092834473],
 [-5.4770660400390625,
  -5.439780950546265,
  -5.929775238037109,
  -5.157699108123779,
  -5.024356842041016,
  -5.72186279296875],
 [-5.311311721801753,
  -5.18811964988708,
  -5.7478132247924805,
  -4.881555080413818,
  -4.874810218811035,
  -5.494684219360352],
 [-5.130865097045894,
  -4.946840524673457,
  -5.541388988494873,
  -4.606274127960205,
  -4.720341205596924,
  -5.287406921386719],
 [-4.927100419998169,
  -4.72498083114624,
  -5.298670768737793,
  -4.342291831970215,
  -4.555530071258545,
  -5.107669830322266],
 [-4.699373960494995,
  -4.527881145477295,
  -5.013678073883057,
  -4.096918106079102,
  -4.385069847106939,
  -4.958844184875493],
 [-4.442312002182007,
  -4.371398568153381,
  -4.673993110656738,
  -3.8909409046173096,
  -4.210630893707275,
  -4.851856231689453],
 [-4.159760951995858,
  -4.267678976058963,
  -4.25399589538575,
  -3.742669105529788,
  -4.065526008605957,
  -4.792688846588135],
 [-3.8585125207901,
  -4.266657471656799,
  -3.86167311668396,
  -3.733267068862915,
  -3.8553519248962402,
  -4.800047874450684],
 [-3.5574525594711304,
  -4.264110445976257,
  -3.5615620613098145,
  -3.7307260036468506,
  -3.5533430576324463,
  -4.797494888305664],
 [-3.256335973739624,
  -4.262017488479614,
  -3.2575550079345748,
  -3.72861909866333,
  -3.2551169395446777,
  -4.795415878295898],
 [-2.9548726081848145,
  -4.262735486030579,
  -2.9536631107330322,
  -3.729336977005005,
  -2.9560821056365967,
  -4.796133995056152],
 [-2.6534165143966675,
  -4.263384461402893,
  -2.652717113494873,
  -3.729984998703003,
  -2.654115915298462,
  -4.796783924102783],
 [-2.3520240783691406,
  -4.26352596282959,
  -2.352065086364746,
  -3.730125904083252,
  -2.351983070373535,
  -4.796926021575928],
 [-2.0506725311279297,
  -4.263338088989258,
  -2.0509450435638428,
  -3.72993803024292,
  -2.0504000186920166,
  -4.796738147735596],
 [-1.7493119835853577,
  -4.26321804523468,
  -1.7494529485702515,
  -3.729818105697632,
  -1.7491710186004639,
  -4.7966179847717285],
 [-1.447941541671753,
  -4.2631789445877075,
  -1.4479490518569946,
  -3.729779005050659,
  -1.4479340314865112,
  -4.796578884124756],
 [-1.1465629935264587,
  -4.263208985328674,
  -1.1465120315551758,
  -3.729809045791626,
  -1.1466139554977417,
  -4.796608924865723],
 [-0.8451843559741974,
  -4.263236999511719,
  -0.8451479077339172,
  -3.729836940765381,
  -0.8452208042144775,
  -4.796637058258057],
 [-0.5438075065612793,
  -4.263250946998596,
  -0.543795108795166,
  -3.729851007461548,
  -0.5438199043273926,
  -4.7966508865356445]]
    }


def test_reward():
    params = get_test_params()

    reward = reward_function(params)

    print("test_reward: {}".format(reward))

    assert reward > 0.0	    
	    
#test_reward()	    
